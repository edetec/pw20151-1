<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:m="http://code.google.com/p/gmaps4jsf/">

<ui:composition template="/WEB-INF/templates/padrao.xhtml">
	<ui:define name="content">
		<script type="text/javascript"
			src="https://maps.googleapis.com/maps/api/js?sensor=true">
    </script>
		<h:form id="form">
			<m:map width="800px" height="800px" latitude="24" longitude="15"
				jsVariable="map1" zoom="2">
				<m:marker latitude="#{enderecoMB.latitude}"
					longitude="#{enderecoMB.longitude}" jsVariable="marker1"
					draggable="true">
					<m:eventListener eventName="dragend"
						jsFunction="marker1DragHandler" />
				</m:marker>
			</m:map>
			<h:commandButton value="Save as a favorite place!!!"
				action="#{enderecoMB.save()}" />
			<br />
			<h:outputText
				value="First place (lat, lng): (#{enderecoMB.latitude}, #{enderecoMB.longitude})" />
			<br />
			<script type="text/javascript">
               function marker1DragHandler(event) {
                   alert("Current marker1 latlng is: " + event.latLng);
               }
            </script>
		</h:form>
	</ui:define>
</ui:composition>
</html>